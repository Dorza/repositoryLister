(this.webpackJsonprepositoryLister=this.webpackJsonprepositoryLister||[]).push([[0],{38:function(e,a,t){e.exports=t(71)},43:function(e,a,t){},71:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(11),s=t.n(c),l=(t(43),t(73)),o=function(e){return Object(l.a)(new Date(e),"do MMM y")},i=t(33),u=t.n(i),m=function(e){var a=e.text,t=e.size,n=e.styledAs,c=e.onClick,s=e.className,l=u()({"c-btn":!0,"c-btn--primary":"primary"===n,"c-btn--secondary":"secondary"===n,"c-btn--tertiary":"tertiary"===n,"c-btn--small":"small"===t});return r.a.createElement("button",{type:"button",className:"".concat(l," ").concat(s),onClick:c},a)};m.defaultProps={styledAs:"primary",size:"normal",className:""};var p=m,d=function(e){var a=e.type,t=e.onChange;return r.a.createElement("input",Object.assign({type:a,onChange:t},e))},f=function(e){var a=e.text;return r.a.createElement("p",{className:"c-spinner"},a)};f.defaultProps={text:"Loading..."};var b=f,h=function(e){var a=e.btnText,t=e.defaultValue,n=e.onClick,c=e.onChange,s=e.classNames;return r.a.createElement("form",{className:"c-search ".concat(s)},r.a.createElement(d,{className:"c-search__input",type:"text",onChange:c,value:t}),r.a.createElement(p,{type:"submit",text:a,onClick:n}))};h.defaultProps={classNames:""};var _=h,E=function(e){var a=e.handlePrev,t=e.handleNext;return r.a.createElement("div",{className:"c-pagination"},r.a.createElement(p,{size:"small",className:"c-pagination__btn c-pagination__btn--prev",onClick:a,text:"Previous"}),r.a.createElement(p,{size:"small",className:"c-pagination__btn c-pagination__btn--next",onClick:t,text:"Next"}))},v=function(e){var a=e.userRepos,t=e.handlePrev,c=e.handleNext;return r.a.createElement(n.Fragment,null,r.a.createElement("h3",{className:"u-title-spacing"},"Found repositories"),r.a.createElement(E,{handlePrev:t,handleNext:c}),r.a.createElement("div",{className:"c-panel-wrapper"},a.map((function(e){return r.a.createElement("div",{className:"c-panel",key:e.id},r.a.createElement("h2",{className:"c-panel__header"},e.name),r.a.createElement("ul",{className:"c-panel__items"},r.a.createElement("li",{className:"c-panel__item c-panel__item--description",title:"Description"},null===e.description?"No description found":e.description),r.a.createElement("li",{className:"c-panel__item c-panel__item--stars",title:"Stars"},e.stars),r.a.createElement("li",{className:"c-panel__item c-panel__item--created",title:"Created"},o(e.created)),r.a.createElement("li",{className:"c-panel__item c-panel__item--updated",title:"Last updated"},o(e.updated)),r.a.createElement("li",{className:"c-panel__item c-panel__item--branch",title:"Default branch"},e.defaultBranch),r.a.createElement("li",{className:"c-panel__item c-panel__item--view",title:"View repo on GitHub"},r.a.createElement("a",{className:"c-btn c-btn--secondary c-btn--small",href:e.url,target:"_blank",rel:"noopener noreferrer"},"View repo"))))}))))},g=function(e){var a=e.orgRepos,t="c-panel";return r.a.createElement(n.Fragment,null,r.a.createElement("h3",{className:"u-title-spacing"},"Found Organisations"),r.a.createElement("div",{className:"".concat(t,"-wrapper")},a.map((function(e){return r.a.createElement("div",{className:"".concat(t),key:e.id},r.a.createElement("h2",{className:"".concat(t,"__header")},r.a.createElement("img",{className:"".concat(t,"__avatar"),src:e.avatar,alt:"".concat(e.name," repository avatar"),width:"20px"}),e.name),r.a.createElement("ul",{className:"".concat(t,"__items")},r.a.createElement("li",{className:"".concat(t,"__item ").concat(t,"__item--view")},r.a.createElement("a",{className:"c-btn c-btn--secondary c-btn--small",href:e.url,target:"_blank",rel:"noopener noreferrer"},"View repo"))))}))))},N=t(13),y=function(){return r.a.createElement("header",{className:"c-nav-bar"},r.a.createElement("nav",null,r.a.createElement(N.b,{className:"c-nav-bar__link",to:"/repositories"},"Repositories"),r.a.createElement(N.b,{className:"c-nav-bar__link",to:"/organisations"},"Organisations")))},x=t(10),w=t.n(x),O=t(15),j=t(8),k=t(36),C=t.n(k),P={get:function(e){if(!e)throw new Error("an api url is required");return C.a.create({baseURL:"https://api.github.com"}).request({method:"get",url:e})}},S=function(e){return new Promise((function(a){return setTimeout((function(){return a()}),e)}))},T=t(12),R=function(){var e=Object(n.useState)("Wesbos"),a=Object(j.a)(e,2),t=a[0],c=a[1],s=Object(n.useState)(),l=Object(j.a)(s,2),o=l[0],i=l[1],u=Object(n.useState)(!1),m=Object(j.a)(u,2),p=m[0],d=m[1],f=Object(n.useState)(1),h=Object(j.a)(f,2),E=h[0],g=h[1],N="",y=Object(T.useToasts)().addToast,x=function(){var e=Object(O.a)(w.a.mark((function e(a){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/users/".concat(t,"/repos?page=1&per_page=10&page=").concat(a),e.next=3,P.get(n).then((function(e){var a=e.data.map((function(e){return{id:e.id,name:e.name,created:e.created_at,updated:e.updated_at,defaultBranch:e.default_branch,description:e.description,stars:e.stargazers_count,url:e.svn_url}}));i(a)})).catch((function(e){d(!1),404===e.response.status?(N="Sorry no repositories for that user could be found, please try another username",console.error(e.response)):N="An error occurred while retrieving data, please try again",y(N,{appearance:"error",autoDismiss:!1})}));case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),k=function(){var e=Object(O.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,S(3e3);case 3:x(1),d(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement("h1",{className:"u-title-spacing"},"User repositories"),r.a.createElement(_,{btnText:"Get Repos",defaultValue:t,onClick:k,onChange:function(e){return c(e.target.value)}}),p&&r.a.createElement(b,null),o&&r.a.createElement(v,{userRepos:o,handlePrev:function(){var e=E-1===0?1:E-1;g(e),x(e)},handleNext:function(){var e=E+1;g(e),x(e)}}))},F=function(){var e=Object(n.useState)("Wesbos"),a=Object(j.a)(e,2),t=a[0],c=a[1],s=Object(n.useState)(),l=Object(j.a)(s,2),o=l[0],i=l[1],u=Object(n.useState)(!1),m=Object(j.a)(u,2),p=m[0],d=m[1],f="",h=Object(T.useToasts)().addToast,E=function(){var e=Object(O.a)(w.a.mark((function e(){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/users/".concat(t,"/orgs"),d(!0),e.next=4,S(3e3);case 4:return e.next=6,P.get(a).then((function(e){var a=e.data.map((function(e){return{id:e.id,name:e.login,avatar:e.avatar_url,url:e.url}}));a.length>0?i(a):h(f="Found 0 organisations this user is associated with",{appearance:"info",autoDismiss:!1}),d(!1)})).catch((function(e){d(!1),404===e.response.status?(f="Sorry no organisations for that user could be found, please try another username",console.error(e.response)):f="An error occurred while retrieving data, please try again",h(f,{appearance:"error",autoDismiss:!1})}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement("h1",{className:"u-title-spacing"},"User organisations"),r.a.createElement(_,{btnText:"Get Repos",defaultValue:t,onClick:E,onChange:function(e){return c(e.target.value)}}),p&&r.a.createElement(b,null),o&&r.a.createElement(g,{orgRepos:o}))},D=t(9);var L=document.getElementById("root");s.a.render(r.a.createElement((function(){return r.a.createElement(T.ToastProvider,{placement:"bottom-right"},r.a.createElement(N.a,{basename:"/repositoryLister"},r.a.createElement(y,null),r.a.createElement("div",{className:"c-container"},r.a.createElement("main",null,r.a.createElement(D.c,null,r.a.createElement(D.a,{path:"/",exact:!0,component:R}),r.a.createElement(D.a,{path:"/repositories",component:R}),r.a.createElement(D.a,{path:"/organisations",component:F}))))))}),null),L)}},[[38,1,2]]]);
//# sourceMappingURL=main.2fdd29c7.chunk.js.map